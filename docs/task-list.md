ä»¥ä¸‹ã¯ã€ã‚ãªãŸãŒæŒ‡å®šã—ãŸ **`.clean-architecture-typescript/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ**ã«æ­£ç¢ºã«å¯¾å¿œã•ã›ãŸã€Clean Architectureã«åŸºã¥ãå®Ÿè£…æ‰‹é †ã®ä¿®æ­£æ¸ˆã¿ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã§ã™ã€‚

---

# ğŸš€ ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆãƒ»å®Ÿè£…æ‰‹é †

ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚’ãƒ™ãƒ¼ã‚¹ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¨­è¨ˆãƒ»å®Ÿè£…ã™ã‚‹éš›ã¯ã€ã€Œ**è²¬å‹™ã®åˆ†é›¢**ã€ã¨ã€Œ**ä¾å­˜ã®å‘ãã¯å¸¸ã«å†…å´ã¸**ã€ã¨ã„ã†åŸå‰‡ã‚’å®ˆã‚ŠãªãŒã‚‰ã€æ®µéšçš„ã«æ§‹ç¯‰ã—ã¦ã„ãã®ãŒç†æƒ³ã§ã™ã€‚

ä»¥ä¸‹ã«ã€å­¦ç¿’ãƒ»å®Ÿè£…ã®ãŸã‚ã®ã‚¿ã‚¹ã‚¯ã¨ã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½“ç³»çš„ã«æ•´ç†ã—ã¾ã™ã€‚

---

## âœ… Step 1. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ã¨ãƒ‰ãƒ¡ã‚¤ãƒ³ã®æŠŠæ¡

1. è¦ä»¶æ•´ç†ã¨æ¥­å‹™ãƒ•ãƒ­ãƒ¼ã®ç†è§£ï¼ˆCRUDã‹æ¥­å‹™å‡¦ç†ã‹ï¼‰
2. ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼ˆä¾‹ï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ã€ãƒ­ã‚°ã‚¤ãƒ³ãªã©ï¼‰ã‚’æ´—ã„å‡ºã™
3. ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«ï¼ˆEntity, ValueObjectï¼‰ã‚’æŠ½å‡º

---

## âœ… Step 2. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆã¨è²¬å‹™è¨­è¨ˆ

ç¾åœ¨ã®æ§‹æˆï¼š

```
.clean-architecture-typescript/
â”œâ”€â”€ entities/
â”‚   â””â”€â”€ user/
â”‚       â””â”€â”€ entity.ts
â”œâ”€â”€ usecases/
â”‚   â””â”€â”€ user/
â”‚       â”œâ”€â”€ usecase-interactor.ts
â”‚       â”œâ”€â”€ input-boundary.ts
â”‚       â”œâ”€â”€ input-data.ts
â”‚       â”œâ”€â”€ output-boundary.ts
â”‚       â”œâ”€â”€ output-data.ts
â”‚       â””â”€â”€ data-access-interface.ts
â”œâ”€â”€ interface-adapters/
â”‚   â”œâ”€â”€ controllers/
â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚       â””â”€â”€ controller.ts
â”‚   â”œâ”€â”€ presenters/
â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚       â””â”€â”€ presenter.ts
â”‚   â””â”€â”€ gateways/
â”‚       â””â”€â”€ user/
â”‚           â”œâ”€â”€ json-gateway.ts
â”‚           â”œâ”€â”€ postgresql-gateway.ts
â”‚           â””â”€â”€ in-memory-gateway.ts
â”œâ”€â”€ frameworks-drivers/
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â”œâ”€â”€ postgresql/
â”‚   â”‚   â”‚   â”œâ”€â”€ drizzle-client.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ schema/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ user.schema.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ init.sql
â”‚   â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ json/
â”‚   â”‚       â”œâ”€â”€ json-store.ts
â”‚   â”‚       â””â”€â”€ Dockerfile
â”‚   â”œâ”€â”€ web/
â”‚   â”‚   â”œâ”€â”€ react/
â”‚   â”‚   â”‚   â”œâ”€â”€ public
â”‚   â”‚   â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ UserCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ useUser.ts
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ main.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ .storybook/
â”‚   â”‚   â”‚   â”œâ”€â”€ vite.config.ts
â”‚   â”‚   â”‚   â””â”€â”€ Dockerfile
â”‚   â”‚   â””â”€â”€ next/
â”‚   â”‚       â”œâ”€â”€ app/
â”‚   â”‚       â”œâ”€â”€ components/
â”‚   â”‚       â””â”€â”€ Dockerfile
â”‚   â””â”€â”€ api/
â”‚       â”œâ”€â”€ hono/
â”‚       â”‚   â”œâ”€â”€ main.ts
â”‚       â”‚   â”œâ”€â”€ server.ts
â”‚       â”‚   â”œâ”€â”€ router.ts
â”‚       â”‚   â”œâ”€â”€ middleware/
â”‚       â”‚   â”‚   â””â”€â”€ error-handler.ts
â”‚       â”‚   â””â”€â”€ Dockerfile
â”‚       â””â”€â”€ aws/
â”‚           â””â”€â”€ Dockerfile
â”œâ”€â”€ test/
â”‚   â”œâ”€â”€ unit/
â”‚   â”‚   â”œâ”€â”€ entities/
â”‚   â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚   â”‚       â””â”€â”€ entity.test.ts
â”‚   â”‚   â”œâ”€â”€ usecases/
â”‚   â”‚   â”‚   â””â”€â”€ user/
â”‚   â”‚   â”‚       â””â”€â”€ usecase.test.ts
â”‚   â”‚   â””â”€â”€ frameworks-drivers/
â”‚   â”‚       â””â”€â”€ web/
â”‚   â”‚           â””â”€â”€ react/
â”‚   â”‚               â”œâ”€â”€ hooks/
â”‚   â”‚               â”‚   â””â”€â”€ useUser.test.ts
â”‚   â”‚               â””â”€â”€ components/
â”‚   â”‚                   â””â”€â”€ UserCard.test.tsx
â”‚   â”œâ”€â”€ integration/
â”‚   â”‚   â”œâ”€â”€ interface-adapters/
â”‚   â”‚   â”‚   â””â”€â”€ gateways/
â”‚   â”‚   â”‚       â””â”€â”€ postgresql/
â”‚   â”‚   â”‚           â””â”€â”€ user/
â”‚   â”‚   â”‚               â””â”€â”€ integration.test.ts
â”‚   â”‚   â””â”€â”€ frameworks-drivers/
â”‚   â”‚       â””â”€â”€ web/
â”‚   â”‚           â””â”€â”€ react/
â”‚   â”‚               â””â”€â”€ user/
â”‚   â”‚                   â””â”€â”€ integration.test.tsx
â”‚   â””â”€â”€ e2e/
â”‚       â”œâ”€â”€ frameworks-drivers/
â”‚       â”‚   â”œâ”€â”€ api/
â”‚       â”‚   â”‚   â””â”€â”€ hono/
â”‚       â”‚   â”‚       â””â”€â”€ user/
â”‚       â”‚   â”‚           â””â”€â”€ e2e.test.ts
â”‚       â”‚   â””â”€â”€ web/
â”‚       â”‚       â””â”€â”€ react/
â”‚       â”‚           â””â”€â”€ user/
â”‚       â”‚               â””â”€â”€ e2e.test.ts
â”‚       â””â”€â”€ playwright.config.ts
â”œâ”€â”€ shared/ #optional
â”‚   â”œâ”€â”€ openapi/
â”‚   â”‚   â””â”€â”€ schema.yaml
â”‚   â”œâ”€â”€ generated/
â”‚   â”‚   â”œâ”€â”€ types/
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ client/
â”‚   â””â”€â”€ zod/
â”‚       â””â”€â”€ user/
â”‚           â”œâ”€â”€ request.schema.ts
â”‚           â”œâ”€â”€ response.schema.ts
â”‚           â””â”€â”€ index.ts
â”œâ”€â”€ scripts/ #optional
â”‚   â”œâ”€â”€ generate-types.ts
â”‚   â”œâ”€â”€ generate-client.ts
â”‚   â””â”€â”€ generate-openapi.ts
â””â”€â”€ docker-compose.yml
```

ä¾å­˜æ–¹å‘ï¼š

```
frameworks-drivers
    â†“
interface-adapters
    â†“
usecases
    â†“
entities
```

---

## âœ… Step 3. ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®è¨­è¨ˆ

* `usecases/user/data-access-interface.ts` ã«ã€ãƒªãƒã‚¸ãƒˆãƒªã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ãªã©ã‚’å®šç¾©
* UseCase ã¯ã“ã‚Œã«ä¾å­˜ã—ã€å…·ä½“çš„ãªDBå®Ÿè£…ã«ã¯ä¾å­˜ã—ãªã„

---

## âœ… Step 4. UseCaseå˜ä½ã®å®Ÿè£…ã¨ãƒ†ã‚¹ãƒˆ

1. `input-boundary.ts`, `input-data.ts`, `output-boundary.ts`, `output-data.ts` ã‚’å®šç¾©
2. `usecase-interactor.ts` ã‚’å®Ÿè£…ï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®ä¸­å¿ƒï¼‰
3. `entity.ts` ã¨é€£æºã—ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã‚„å€¤ã®æ•´åˆæ€§ã‚’æ‹…ä¿
4. ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’ `test/unit/usecases/user/usecase.test.ts` ã§å®Ÿè£…

---

## âœ… Step 5. I/Oã¨ã®æ¥ç¶š

* `controller.ts` ã§ HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ã‘å–ã‚Šã€UseCaseã«å‡¦ç†ã‚’ä¾é ¼
* `presenter.ts` ã§å‡ºåŠ›ãƒ‡ãƒ¼ã‚¿ã‚’æ•´å½¢ã—ã¦ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã«å¤‰æ›
* `gateways/` ã«ã¦å„DBï¼ˆjson, postgresqlãªã©ï¼‰ã¸ã®æ¥ç¶šå‡¦ç†ã‚’å®Ÿè£…

---

## âœ… Step 6. Webãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã¨ã‚µãƒ¼ãƒèµ·å‹•

* `frameworks-drivers/api/hono/` ã«ã¦ Webã‚µãƒ¼ãƒã‚’æ§‹ç¯‰

  * `main.ts`: ã‚¢ãƒ—ãƒªèµ·å‹•ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
  * `server.ts`: Honoã‚¢ãƒ—ãƒªæ§‹ç¯‰
  * `router.ts`: ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°è¨­å®š
  * `middleware/`: ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã©å…±é€šå‡¦ç†

* `frameworks-drivers/web/react/` ã«ã¦UIå®Ÿè£…ï¼ˆReactãªã©ï¼‰

---

## âœ… Step 7. ä¾å­˜æ³¨å…¥ã¨DIæ§‹æˆ

* **æ‰‹å‹•DIã§ååˆ†ï¼ˆåˆæœŸæ®µéšï¼‰**

  * `controller.ts` ã§ `usecase` ã« `gateway` ã‚’ç›´æ¥æ³¨å…¥
* å¿…è¦ã§ã‚ã‚Œã° DI ãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼ˆ`tsyringe`, `inversify` ãªã©ï¼‰ã§ `container.ts` ã‚’å°å…¥

---

## âœ… Step 8. ãƒ†ã‚¹ãƒˆæ–¹é‡ã¨å®Ÿè£…

* ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼š`test/unit/usecases/`ï¼ˆãƒ¢ãƒƒã‚¯ä½¿ç”¨ï¼‰
* ã‚²ãƒ¼ãƒˆã‚¦ã‚§ã‚¤ï¼š`test/integration/interface-adapters/gateways/`
* ã‚¨ãƒ³ãƒ‰ãƒ„ãƒ¼ã‚¨ãƒ³ãƒ‰ï¼š`test/e2e/frameworks-drivers/api/hono/user/`

---

## âœ… Step 9. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãƒ»é‹ç”¨æ•´å‚™

* `README.md`ï¼šè¨­è¨ˆæ¦‚è¦ã€èµ·å‹•æ‰‹é †ã€ä¾å­˜é–¢ä¿‚ã€ã‚¹ã‚­ãƒ¼ãƒæƒ…å ±ãªã©
* `docker-compose.yml`ï¼šPostgreSQLã‚„json-serverãªã©ã®ä¾å­˜ã‚µãƒ¼ãƒ“ã‚¹ã‚’å®šç¾©
* å‹ãƒ»APIã‚¹ã‚­ãƒ¼ãƒç®¡ç†ã¯ `shared/openapi/` ã‚„ `shared/zod/` ã‚’å°å…¥ã™ã‚‹ã®ã‚‚å°†æ¥çš„ã«æœ‰åŠ¹ï¼ˆå­¦ç¿’å¾Œï¼‰

---

## âœ… ã‚¿ã‚¹ã‚¯ä¸€è¦§ï¼ˆãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆå½¢å¼ï¼‰

| ã‚«ãƒ†ã‚´ãƒª      | ã‚¿ã‚¹ã‚¯                                                      |
| --------- | -------------------------------------------------------- |
| è¦ä»¶å®šç¾©      | ğŸ”² ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹æ´—ã„å‡ºã—<br>ğŸ”² ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒªãƒ³ã‚°                            |
| ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤     | ğŸ”² Entityå®Ÿè£…<br>ğŸ”² ValueObjectæ¤œè¨                          |
| ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ | ğŸ”² DTOå®šç¾©ï¼ˆinput/outputï¼‰<br>ğŸ”² UseCaseå®Ÿè£…<br>ğŸ”² ãƒ¢ãƒƒã‚¯ã§ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ |
| ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹å±¤ | ğŸ”² Controllerè¨­è¨ˆ<br>ğŸ”² Presenterå®Ÿè£…<br>ğŸ”² Gatewayå®šç¾©ã¨å®Ÿè£…     |
| ã‚¤ãƒ³ãƒ•ãƒ©å±¤     | ğŸ”² Webã‚µãƒ¼ãƒè¨­å®šï¼ˆHonoï¼‰<br>ğŸ”² DBï¼ˆDrizzle/Postgres or JSONï¼‰ã®æ¥ç¶š  |
| DIæ§‹æˆ      | ğŸ”² UseCaseã¨Gatewayã®æ¥ç¶šï¼ˆæ‰‹å‹• or DIãƒ©ã‚¤ãƒ–ãƒ©ãƒªï¼‰                     |
| ãƒ†ã‚¹ãƒˆ       | ğŸ”² ãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ<br>ğŸ”² DBçµ±åˆãƒ†ã‚¹ãƒˆ<br>ğŸ”² E2Eãƒ†ã‚¹ãƒˆï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰          |
| å®Ÿè¡Œãƒ»é‹ç”¨     | ğŸ”² `main.ts` ã«ã‚ˆã‚‹èµ·å‹•å‡¦ç†<br>ğŸ”² Dockerèµ·å‹•ï¼ˆDBå«ã‚€ï¼‰                |

